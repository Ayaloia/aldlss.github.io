<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="aldlss"><meta name="copyright" content="aldlss"><meta name="generator" content="Hexo 7.3.0"><meta name="theme" content="hexo-theme-yun"><title>ç¬¬ 29 æ¬¡ CSP è®¤è¯éƒ¨åˆ†é¢˜è§£åŠè¸©å‘ | é£æ–‡è§‰å¤©</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><script src="https://fastly.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer type="module"></script><script src="https://fastly.jsdelivr.net/npm/vue@2.6.14"></script><link rel="icon" type="image/png" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"blog.suwako.cn","root":"/","title":"ä¿¡ä»°æ˜¯ä¸ºäº†è™šå¹»ä¹‹äºº","version":"1.10.11","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"/data/sentences.json"},"algolia":{"appID":"369JG8XO7A","apiKey":"2092ffcf9f08941419048a10d4abd5f5","indexName":"blog","hits":{"per_page":10}},"fireworks":{"colors":null},"waline":{"config":{"enable":true,"serverURL":"https://comment.blog.suwako.cn","comment":false,"el":"#waline","lang":"zh-CN"},"cdn":"https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.js","dark":"html.dark"},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-JLJZK2MK9C"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-JLJZK2MK9C');
}</script><script>//- only for pjax
function sendPageView() {
  if (CONFIG.hostname !== location.hostname) return;
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('event', 'page_view', {
    page_path: encodeURIComponent(location.pathname),
  })
}
document.addEventListener("pjax:success", sendPageView);</script><meta name="description" content="ç‹ ç‹ è¸©å‘">
<meta property="og:type" content="article">
<meta property="og:title" content="ç¬¬ 29 æ¬¡ CSP è®¤è¯éƒ¨åˆ†é¢˜è§£åŠè¸©å‘">
<meta property="og:url" content="https://blog.suwako.cn/CSP-29th/index.html">
<meta property="og:site_name" content="é£æ–‡è§‰å¤©">
<meta property="og:description" content="ç‹ ç‹ è¸©å‘">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.suwako.cn/aldlss-blog/pic/picQQ%E5%9B%BE%E7%89%8720230321220723.png">
<meta property="og:image" content="https://cdn.suwako.cn/aldlss-blog/pic/picQQ%E6%88%AA%E5%9B%BE20230321221234.png">
<meta property="og:image" content="https://cdn.suwako.cn/aldlss-blog/pic/picQQ%E5%9B%BE%E7%89%8720230321223041.gif">
<meta property="article:published_time" content="2023-03-21T12:19:40.000Z">
<meta property="article:modified_time" content="2023-03-22T02:46:46.000Z">
<meta property="article:author" content="aldlss">
<meta property="article:tag" content="æ¯”èµ›">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.suwako.cn/aldlss-blog/pic/picQQ%E5%9B%BE%E7%89%8720230321220723.png"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="aldlss"><img width="96" loading="lazy" src="https://cdn.suwako.cn/aldlss-blog/avatar.jpg" alt="aldlss"><span class="site-author-status" title="é‚£å’‹åŠ">ğŸ¤”</span></a><div class="site-author-name"><a href="/about/">aldlss</a></div><a class="site-name" href="/about/site">é£æ–‡è§‰å¤©</a><sub class="site-subtitle">ä¿¡ä»°æ˜¯ä¸ºäº†è™šå¹»ä¹‹äºº</sub><div class="site-description">åœ¨å­¦äº†åœ¨å­¦äº†</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">15</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">3</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">11</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://resume.aldlss.work" title="resume"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:article-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/aldlss" title="GitHub" target="_blank" style="color:#181717"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:aya@suwako.cn" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/5915138" title="bilibili" target="_blank" style="color:#FA85A3"><span class="icon iconify" data-icon="ri:bilibili-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æœ‹å‹ä»¬" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%9F%E5%9C%B0%E4%B8%88%E9%87%8F"><span class="toc-number">1.</span> <span class="toc-text">åœŸåœ°ä¸ˆé‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9E%A6%E7%94%B0%E8%AE%A1%E5%88%92"><span class="toc-number">2.</span> <span class="toc-text">å¦ç”°è®¡åˆ’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LDAP"><span class="toc-number">3.</span> <span class="toc-text">LDAP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%BD%E8%82%A5"><span class="toc-number">4.</span> <span class="toc-text">æ–½è‚¥</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://blog.suwako.cn/CSP-29th/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="aldlss"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="é£æ–‡è§‰å¤©"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ç¬¬ 29 æ¬¡ CSP è®¤è¯éƒ¨åˆ†é¢˜è§£åŠè¸©å‘<a class="post-edit-link" href="https://github.com/Ayaloia/aldlss.github.io/tree/master/source/_posts/CSP-29th.md" target="_blank" title="ç¼–è¾‘" rel="noopener"><span class="icon iconify" data-icon="ri:edit-line"></span></a></h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2023-03-21 20:19:40" itemprop="dateCreated datePublished" datetime="2023-03-21T20:19:40+08:00">2023-03-21</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-03-22 10:46:46" itemprop="dateModified" datetime="2023-03-22T10:46:46+08:00">2023-03-22</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="æœ¬æ–‡å­—æ•°">4.1k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="é˜…è¯»æ—¶é•¿">17m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%BF%83%E5%BE%97/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">å¿ƒå¾—</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E6%AF%94%E8%B5%9B/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">æ¯”èµ›</span></a></span></div><div class="post-author"><span class="author-name">æ„Ÿè§‰è¿˜è¡Œçš„ aldlss</span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><p>è¿™æ¬¡ä¸æ˜¯æ¸¸è®°äº†ï¼Œä¹Ÿæ˜¯è¿™æ¬¡é¢˜æ¯”è¾ƒç»™é¢å­ï¼Œå†™äº†ä¸ª 300 åˆ†ä»¥ä¸Šï¼Œæ‰€ä»¥æƒ³ç€å†™ä¸€ä¸‹ã€‚ä¸è¿‡å…¶å®ä¸»è¦æ˜¯æƒ³å†™ä¸€ä¸‹åé¢è¸©çš„ä¸€ä¸ªå‘ã€‚</p>
<span id="more"></span>

<h2 id="åœŸåœ°ä¸ˆé‡"><a href="#åœŸåœ°ä¸ˆé‡" class="headerlink" title="åœŸåœ°ä¸ˆé‡"></a>åœŸåœ°ä¸ˆé‡</h2><p>è¿™é¢˜å‘¢ï¼Œåªèƒ½è¯´å¾—äºå‰å‡ å¤©å†™åˆ«çš„é¢˜ç›®çš„æ—¶å€™å†™è¿‡ç±»ä¼¼çš„é¢˜ï¼Œä¸ç„¶è¿˜çœŸä¸ä¼šã€‚</p>
<p>æœ¬é¢˜æ˜¯è¦æ±‚å‡ºä¸€å—å¤§ç”°åœ°å’Œå…¶ä»– n å—ç”°åœ°çš„é‡å é¢ç§¯ï¼Œå› ä¸ºé¢˜ç›®è¯´ n å—ç”°åœ°ä¹‹é—´ä¸ç›¸äº¤ï¼Œå…¶å®å‰©ä¸‹äº†å¾ˆå¤šéº»çƒ¦ï¼Œå°±ä¸ç”¨è€ƒè™‘ n å—ç”°ä¹‹é—´æœ‰é‡å å¯¼è‡´é¢ç§¯é‡å¤è®¡å…¥çš„é—®é¢˜äº†ã€‚</p>
<p>å› ä¸ºæ•°æ®é‡ä¹Ÿæ¯”è¾ƒå° (n &lt;&#x3D; 100)ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥åˆ†åˆ«æ±‚æ˜¯å¦é‡åˆï¼Œé‡åˆçš„è¯ç›´æ¥æ±‚é¢ç§¯ã€‚</p>
<p>åˆ¤æ–­æ˜¯å¦ç›¸äº¤å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯æœ€å¤§çš„æ¨ªçºµåæ ‡æ¯”å¦ä¸€ä¸ªçš„æœ€å°çš„å°ï¼Œæˆ–è€…æœ€å°çš„æ¨ªçºµåæ ‡çš„æ¯”å¦ä¸€ä¸ªæœ€å¤§çš„å¤§ã€‚</p>
<p>è‡³äºåˆ¤æ–­é‡åˆé¢ç§¯ï¼Œæ˜¯ç”¨ä¸¤ä¸ªçŸ©å½¢çš„æ€»å…±å››ä¸ªæ¨ªåæ ‡é€‰ä¸­é—´å¤§å°çš„ä¸¤ä¸ªä½œå·®ï¼Œä¸å®ƒä»¬çš„å››ä¸ªçºµåæ ‡ä¸­é—´å¤§å°çš„ä¸¤ä¸ªçš„å·®ç›¸ä¹˜ã€‚è™½ç„¶å†™èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯æˆ‘ä»ç„¶ä¸çŸ¥é“è¿™åˆ°åº•æ˜¯æ€ä¹ˆèƒ½æƒ³å‡ºæ¥çš„- -</p>
<p>è¿˜æ˜¯è´´ä»£ç å§ï¼Œæˆ‘æ˜¯ç”¨ç±»çš„å†™æ³•å†™çš„ï¼ˆä¸çŸ¥é“ä¸ºä»€ä¹ˆæ€»æ„Ÿè§‰æŒºåˆé€‚ï¼‰ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">rece</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> minx, miny, maxx, maxy;</span><br><span class="line">    <span class="built_in">rece</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="built_in">rece</span>(<span class="type">int</span> x1, <span class="type">int</span> y1, <span class="type">int</span> x2, <span class="type">int</span> y2) &#123;</span><br><span class="line">        minx = <span class="built_in">min</span>(x1, x2); <span class="comment">// åˆ†åˆ«æ±‚å‡ºæœ€å¤§æœ€å°çš„æ¨ªçºµåæ ‡</span></span><br><span class="line">        maxx = <span class="built_in">max</span>(x1, x2);</span><br><span class="line">        miny = <span class="built_in">min</span>(y1, y2);</span><br><span class="line">        maxy = <span class="built_in">max</span>(y1, y2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isJiao</span><span class="params">(rece &amp;b)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(minx &gt;= b.maxx || miny &gt;= b.maxy || maxx &lt;= b.minx || maxy &lt;= b.miny)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">jiaoArea</span><span class="params">(rece &amp;b)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> x[<span class="number">4</span>]=&#123;minx, maxx, b.maxx, b.minx&#125;, y[<span class="number">4</span>]=&#123;miny, maxy, b.maxy, b.miny&#125;;</span><br><span class="line">        <span class="built_in">sort</span>(x, x<span class="number">+4</span>); <span class="comment">// å…¶å®è¿™é‡ŒæŒ‰ç†è¯´ç”¨å½’å¹¶å¤§æ¦‚ä¼šæ›´å¿«ï¼Œä¸è¿‡å°±è¿™ç‚¹å¤æ‚åº¦å°±æ‡’äº†ï¼ˆ</span></span><br><span class="line">        <span class="built_in">sort</span>(y, y<span class="number">+4</span>);</span><br><span class="line">        <span class="keyword">return</span> (x[<span class="number">2</span>]-x[<span class="number">1</span>])*(y[<span class="number">2</span>]-y[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;reces[<span class="number">105</span>],me;</span><br><span class="line"><span class="type">int</span> n, ans;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;x, &amp;y);</span><br><span class="line">    me = <span class="built_in">rece</span>(<span class="number">0</span>, <span class="number">0</span>, x, y);</span><br><span class="line">    <span class="type">int</span> a, b, c, d;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d&quot;</span>, &amp;a, &amp;b, &amp;c, &amp;d);</span><br><span class="line">        reces[i] = <span class="built_in">rece</span>(a, b, c, d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(me.<span class="built_in">isJiao</span>(reces[i]))</span><br><span class="line">            ans += me.<span class="built_in">jiaoArea</span>(reces[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¦ç”°è®¡åˆ’"><a href="#å¦ç”°è®¡åˆ’" class="headerlink" title="å¦ç”°è®¡åˆ’"></a>å¦ç”°è®¡åˆ’</h2><p>è¿™ä¸ªä¸å¤šè¯´äº†ï¼ŒåŸºæœ¬ä¸Šå†™æ¯é¢˜çš„æ—¶å€™æˆ‘éƒ½ä¼šæ¯”è¾ƒé¦–å…ˆæƒ³è¿™é¢˜èƒ½ä¸èƒ½ç”¨äºŒåˆ†ç­”æ¡ˆï¼Œæ²¡æƒ³åˆ°ç»ˆäºåœ¨è¿™é‡Œç¢°ä¸Šäº†èƒ½ç”¨äºŒåˆ†ç­”æ¡ˆçš„é¢˜ç›®ï¼Œæ„ŸåŠ¨ã€‚</p>
<p>ä¸€é“é¢˜èƒ½ä¸èƒ½äºŒåˆ†ç­”æ¡ˆï¼Œå¤§æ¦‚æœ‰ä¸¤ä¸ªè¦æ±‚ï¼š</p>
<ol>
<li><p>ä¸€èˆ¬æ˜¯æœ€ä¼˜è§£é—®é¢˜ï¼Œè€Œä¸”å¯èƒ½çš„ç­”æ¡ˆé›†æ˜¯å¯äºŒåˆ†çš„ã€‚ä¸è¿‡è¯´äººè¯ä¸€ç‚¹ï¼Œå¤§æ¦‚å°±æ˜¯ï¼Œä¸€ä¸ªèŒƒå›´ï¼Œä¸€è¾¹éƒ½æ˜¯ä¸å¯è¡Œè§£ï¼Œå¦ä¸€è¾¹éƒ½æ˜¯å¯è¡Œè§£ï¼Œå®ƒä»¬çš„äº¤ç•Œå¤„æ˜¯æœ€ä¼˜è§£ã€‚</p>
</li>
<li><p>æ ¹æ®å¯èƒ½è§£åˆ¤æ–­æ˜¯å¦ç¬¦åˆé¢˜ç›®æ¯”ç›´æ¥æ±‚è§£å¤æ‚åº¦æ›´ä½ã€‚è¿™ä¸ªæŸç§ç¨‹åº¦ä¸Šè¯´ä¹Ÿæ˜¯äºŒåˆ†ç­”æ¡ˆçš„ç›®çš„ã€‚</p>
</li>
</ol>
<p>ç„¶åæ¯”è¾ƒæ˜¾ç„¶çš„æ˜¯ï¼Œè¿™é¢˜æ˜¯å¯ä»¥äºŒåˆ†ç­”æ¡ˆçš„ï¼Œå…·ä½“å°±æ˜¯äºŒåˆ† k ~ t<sub>Total</sub> è¿™ä¸ªèŒƒå›´ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦æ˜¯è§£å°±å¯ä»¥äº†ã€‚å…¶ä¸­æœ‰ä¸€ä¸ªå‘å°±æ˜¯æ±‚ç¼©çŸ­äº†å¤šå°‘å¤©æ—¶ï¼Œå› ä¸ºä¼°è®¡çš„ç­”æ¡ˆæ¯”è¾ƒå¤§ï¼Œç›¸å‡æ—¶ä¼šå‡ºç°ç¼©çŸ­å¤©æ•°å¾—è´Ÿæ•°çš„æƒ…å†µï¼Œè¿™ä¸ªè‚¯å®šæ˜¯è¦åˆ¤æ–­å˜æˆ 0 çš„ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">tian</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> t, c;</span><br><span class="line">&#125;tians[<span class="number">100005</span>];</span><br><span class="line"><span class="type">int</span> n, m, k, ans;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">judge</span><span class="params">(<span class="type">int</span> w)</span> <span class="comment">// åˆ¤æ–­ç­”æ¡ˆæ˜¯å¦å¯è¡Œ</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        sum += (<span class="built_in">max</span>(<span class="number">0</span>, tians[i].t - w)) * tians[i].c; <span class="comment">// è¿™é‡Œå°±æ˜¯å¯èƒ½å‡ºç°è´Ÿæ•°çš„åœ°æ–¹</span></span><br><span class="line">        <span class="keyword">if</span>(sum &gt;= m)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ef</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> <span class="comment">// äºŒåˆ†ç­”æ¡ˆ</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt; r)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">judge</span>(mid))</span><br><span class="line">    &#123;</span><br><span class="line">        ans = mid;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">ef</span>(l, mid<span class="number">-1</span>); <span class="comment">// æˆ‘æ˜¯æ¯”è¾ƒå–œæ¬¢ç”¨è¿™ç§å†™æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">ef</span>(mid<span class="number">+1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;k);</span><br><span class="line">    <span class="type">int</span> maxx=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;tians[i].t, &amp;tians[i].c);</span><br><span class="line">        maxx = <span class="built_in">max</span>(tians[i].t, maxx);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">ef</span>(k, maxx);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="LDAP"><a href="#LDAP" class="headerlink" title="LDAP"></a>LDAP</h2><p>ç¬¬ä¸‰é¢˜ç»ˆäºä¸æ˜¯ç»ˆææ•°æ®ç»“æ„å¥—æ•°æ®ç»“æ„å¥—æ•°æ®ç»“æ„äº†ï¼Œä»¤äººæ„ŸåŠ¨ã€‚è¿™ä¸ªæˆ‘è®¤ä¸ºæ˜¯å­—ç¬¦ä¸²å¤„ç†çš„é¢˜ç›®ï¼Œè™½ç„¶æŒºä¸å–œæ¬¢çš„ï¼Œä½†æ˜¯å¥½åƒæ„å¤–åœ°æ¯”è¾ƒå¥½å†™ï¼Ÿ</p>
<p>æˆ‘ç›´æ¥è¯´è¯´æˆ‘çš„çœ‹æ³•ï¼Œé¦–å…ˆï¼Œå®ƒè¿™ä¸ªè¿˜æ˜¯æŒºäººæ€§åŒ–çš„ï¼Œç»™äº†èŒƒå¼ï¼Œå¯ä»¥çœ‹åˆ°è¡¨è¾¾å¼è¯´èµ·æ¥çš„è¯åªæœ‰ä¸¤ç§å¯èƒ½ã€‚ä¸€ç§æ˜¯ <code>BASE_EXPR</code>ï¼Œæˆ‘è®¤ä¸ºå¯ä»¥è¯´æ˜¯åŸè¯­ï¼›å¦ä¸€ç§å°±æ˜¯ <code>EXPR</code>ï¼Œä¹Ÿå°±æ˜¯å¤åˆè¯­å¥ï¼Œå¤åˆè¯­å¥çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯å®ƒæ˜¯ä»¥ <code>&amp;</code> æˆ–è€… <code>|</code> ä¸ºå¤´ï¼Œåé¢è·Ÿä¸¤ä¸ªæ‹¬åœ¨æ‹¬å·é‡Œçš„å¼å­ï¼Œè€Œæ‹¬å·é‡Œåˆæ˜¯åŒæ ·çš„å¤åˆè¯­å¥æˆ–è€…åŸè¯­ã€‚</p>
<p>å¾ˆå®¹æ˜“æƒ³åˆ°æˆ‘ä»¬å¯ä»¥ç”¨é€’å½’æ¥è§£ææ•´ä¸ªè¡¨è¾¾å¼ã€‚å…·ä½“æµç¨‹æ˜¯è¿™æ ·ï¼š</p>
<ol>
<li><p>é¦–å…ˆæˆ‘ä»¬æ£€æŸ¥è·å¾—çš„è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼Œä¸€ç§æ˜¯å­—ç¬¦ä¸º <code>&amp;</code> æˆ–è€… <code>|</code>ï¼Œè¿™è¯´æ˜è¿™ä¸ªè¡¨è¾¾å¼æ˜¯ä¸ªç¬¦åˆè¯­å¥ï¼Œå¦åˆ™å®ƒå°±åªå¯èƒ½æ˜¯åŸè¯­ã€‚</p>
</li>
<li><p>è‹¥æ˜¯å¤åˆè¯­å¥ï¼Œåˆ™æˆ‘ä»¬åˆ†åˆ«æ‰¾å‡ºæœ€å¤–é¢çš„ä¸¤ç»„æ‹¬å·ï¼Œå®ƒä»¬åˆ†åˆ«å‚ä¸ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ“ä½œç¬¦è¿ç®—çš„è¡¨è¾¾å¼ã€‚ç”±äºæ˜¾ç„¶ç¬¬äºŒä¸ªå­—ç¬¦æ˜¯ â€˜(â€˜ï¼Œæœ€åä¸€ä¸ªå­—ç¬¦æ˜¯ â€˜)â€™ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦æ‰¾å‡ºä¸­é—´çš„åˆ†ç•Œå³å¯ã€‚æˆ‘è¿™é‡Œæ˜¯ä½¿ç”¨çš„ç›´æ¥æš´åŠ›æŸ¥æ‰¾çš„æ–¹æ³•ã€‚</p>
</li>
<li><p>æ‰¾å‡ºæ¥ä¹‹åï¼Œå¯¹ä¸¤ä¸ªè¡¨è¾¾å¼å†…éƒ¨åˆ†åˆ«è°ƒç”¨é€’å½’å‡½æ•°ï¼Œå³å›åˆ°æ­¥éª¤ 1 ç»§ç»­å¤„ç†å†…éƒ¨ï¼Œå°†è¿”å›çš„å€¼æŒ‰ç…§ç¬¬ä¸€ä¸ªå­—ç¬¦è¿›è¡Œä¸æ“ä½œæˆ–è€…æˆ–æ“ä½œ</p>
</li>
<li><p>è‹¥æ˜¯åŸè¯­ï¼Œåˆ™ç›´æ¥æŒ‰ç…§åŸè¯­çš„æ„æˆï¼Œå…ˆè¯»ä¸€ä¸ªæ•°å­—ï¼Œå†è¯»ç¬¦å·ï¼Œå†è¯»ä¸€ä¸ªæ•°å­—ï¼Œæœ€åæ ¹æ®ç¬¦å·å’Œæ•°å­—åˆ¤æ–­å’Œ user çš„å±æ€§æ˜¯å¦åŒ¹é…ï¼Œè¿”å› <code>true</code> æˆ– <code>false</code></p>
</li>
</ol>
<p>åœ¨é€’å½’è¡¨è¾¾å¼ä¸Šï¼Œå› ä¸ºæŠ€æœ¯åŸå› ï¼Œæˆ‘æ˜¯ç”¨ l, r å€¼æ¥æ§åˆ¶è¡¨è¾¾å¼çš„èµ·æ­¢ä½ç½®ï¼ˆé—­åŒºé—´ï¼‰ã€‚</p>
<p>å¯¹äºæ€ä¹ˆåˆ¤æ–­æ¯ä¸ªç”¨æˆ·æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œæˆ‘æ˜¯ç›´æ¥ä¸€ä¸ªä¸€ä¸ªæšä¸¾è¿‡å»çš„ã€‚è¿™æ ·å…¶å®å¯¹ä¸€ä¸ªè¡¨è¾¾å¼é‡å¤è§£æäº†å¤šæ¬¡ï¼Œæœ‰å¾ˆå¤§çš„ä¼˜åŒ–ç©ºé—´ï¼Œå› æ­¤ä¹Ÿå¾ˆå¿å¿‘èƒ½ä¸èƒ½è¿‡ï¼Œä½†å€’æ˜¯è¿‡äº†ã€‚ç„¶åç”±äºç­”æ¡ˆè¦æ±‚æŒ‰ç”¨æˆ· DN å¤§å°ä»å°åˆ°å¤§è¾“å‡ºï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥åœ¨åªåœ¨æœ€å¼€å§‹æ’åºä¸€æ¬¡ï¼Œç„¶åæšä¸¾çš„æ—¶å€™åŠ å…¥ç­”æ¡ˆçš„é¡ºåºä¹Ÿæ˜¯æœ‰åºçš„äº†ã€‚</p>
<p>å¦å¤–å¬è¯´æœ‰ä¸€ä¸ªå‘æ˜¯å±æ€§ç¼–å·å’Œå¤§å°çš„èŒƒå›´ä¸ n, m çš„èŒƒå›´ä¸åŒï¼Œæ˜¯ 10<sup>9</sup>ï¼Œä¸è¿‡è¿˜å¥½æˆ‘ç”¨çš„æ˜¯ <code>unordered_map</code>ï¼Œæ²¡æœ‰è¢«è¿™ä¸ªå‘åˆ°ã€‚å¦å¤–å°±æ˜¯æˆ‘è§‰å¾—åœ¨æ•°ç»„ä¸­å¥—ä¸€ä¸ªä¼šå˜å¤§å˜å°çš„æ•°æ®ç»“æ„å¯èƒ½æ˜¯æ¯”è¾ƒå±é™©çš„ï¼Œå› æ­¤å¯ä»¥çœ‹åˆ°æˆ‘åœ¨å£°æ˜ users æ•°ç»„çš„æ—¶å€™ç”¨çš„æ˜¯æŒ‡é’ˆï¼Œè¿™æ ·æ•°ç»„é‡Œå­˜çš„å°±åªæ˜¯ä¸€ä¸ª <code>int64</code> çš„æŒ‡é’ˆliao</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">user</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> DN;</span><br><span class="line">    unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; attribute;</span><br><span class="line">&#125;;</span><br><span class="line">array&lt;user*, 2505&gt;users;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt;ans&#123;&#125;;</span><br><span class="line">string expr;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">parse</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, user* me)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(expr[l] == <span class="string">&#x27;&amp;&#x27;</span> || expr[l] == <span class="string">&#x27;|&#x27;</span>) <span class="comment">// åˆ¤æ–­æ˜¯å¦æ˜¯å¤åˆè¯­å¥</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> count=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=l<span class="number">+2</span>; i&lt;=r; ++i) <span class="comment">// æŸ¥æ‰¾ä¸¤ä¸ªå­è¯­å¥çš„åˆ†ç•Œ</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(expr[i] == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">                ++count;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(expr[i] == <span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                --count;</span><br><span class="line">                <span class="keyword">if</span>(count == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(expr[l] == <span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">                        <span class="keyword">return</span> <span class="built_in">parse</span>(l<span class="number">+2</span>, i<span class="number">-1</span>, me) &amp;&amp; <span class="built_in">parse</span>(i<span class="number">+2</span>, r<span class="number">-1</span>, me);</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        <span class="keyword">return</span> <span class="built_in">parse</span>(l<span class="number">+2</span>, i<span class="number">-1</span>, me) || <span class="built_in">parse</span>(i<span class="number">+2</span>, r<span class="number">-1</span>, me);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// parse Base_Expr</span></span><br><span class="line">    <span class="type">int</span> a[<span class="number">2</span>]=&#123;<span class="number">0</span>, <span class="number">0</span>&#125;, point=<span class="number">0</span>;</span><br><span class="line">    <span class="type">bool</span> logic; <span class="comment">// false=&#x27;~&#x27;, true=&#x27;:&#x27;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=l; i&lt;=r; ++i) <span class="comment">// è¿™é‡Œç”¨äº†æ¯”è¾ƒæ–¹ä¾¿çš„å†™æ³•ï¼Œä½†æ˜¯ä¸å¤ªæ˜“äºç†è§£ï¼Œåªèƒ½è¯´ ^=1 ç¡®å®æ˜¯ä¸ªå¥½ä¸œè¥¿</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(expr[i] == <span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            logic = <span class="literal">true</span>;</span><br><span class="line">            point ^= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(expr[i] == <span class="string">&#x27;~&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            logic =<span class="literal">false</span>;</span><br><span class="line">            point ^= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        a[point] *= <span class="number">10</span>;</span><br><span class="line">        a[point] += expr[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">auto</span> res = me-&gt;attribute.<span class="built_in">find</span>(a[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">if</span>(res == me-&gt;attribute.<span class="built_in">end</span>())</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(logic)</span><br><span class="line">        <span class="keyword">return</span> res-&gt;second == a[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> res-&gt;second != a[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(user *a, user *b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a-&gt;DN &lt; b-&gt;DN;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="type">int</span> m, a, b;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        users[i] = <span class="keyword">new</span> user;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;users[i]-&gt;DN, &amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>; j&lt;=m; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line">            users[i]-&gt;attribute.<span class="built_in">emplace</span>(a, b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(users.<span class="built_in">begin</span>()<span class="number">+1</span>, users.<span class="built_in">begin</span>()+n<span class="number">+1</span>, cmp); <span class="comment">// å…ˆæ’åºï¼Œè¿™æ ·å­åé¢çš„ç­”æ¡ˆå°±ç›´æ¥éƒ½æ˜¯æœ‰åºçš„äº†</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;m);</span><br><span class="line">    ++m; <span class="comment">// é…åˆåé¢ --m</span></span><br><span class="line">    <span class="keyword">while</span>(--m) <span class="comment">// è¿™æ ·å†™æ¯” m-- äº²æµ‹å¿«å¾ˆå¤šå€ï¼Œä¸è¿‡å¦‚æœå¸æ°§çš„è¯å°±ä¸æ‡‚äº†</span></span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;expr;</span><br><span class="line">        ans.<span class="built_in">clear</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">parse</span>(<span class="number">0</span>, expr.<span class="built_in">length</span>()<span class="number">-1</span>, users[i]))</span><br><span class="line">                ans.<span class="built_in">emplace_back</span>(users[i]-&gt;DN);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> &amp;w:ans)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, w);</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ–½è‚¥"><a href="#æ–½è‚¥" class="headerlink" title="æ–½è‚¥"></a>æ–½è‚¥</h2><p>ç¬¬ 4 é¢˜æ²¡å†™ï¼Œæ²¡æ€è·¯ï¼Œå’•äº†ã€‚ç¬¬ 5 é¢˜å…¶å®ä¹Ÿæ²¡æ€è·¯ï¼Œä½†æ˜¯æˆ‘è¿™äº›è¿™ç¯‡æ–‡ç« çš„ç›®çš„å…¶å®å°±æ˜¯è¿™é¢˜- -</p>
<p>ä¹Ÿä¸è§£æé¢˜ç›®äº†ï¼Œé¦–å…ˆæˆ‘æ˜¯å†™äº†ä¸€ä¸ªå·¨éº»çƒ¦çš„å®ç°ï¼Œå†™çš„æ—¶å€™å„ç§é«˜çº§æ•°æ®ç»“æ„é£æ¥é£å»ï¼Œç»“æœæœ€ååªæœ‰ 15 åˆ†ï¼Œåé¢ä¸‰ä¸ª point WA å…¶ä»– TLE äº†ï¼Œç¬‘å˜»äº†</p>
<p>äºæ˜¯å†³å®šç›´æ¥ä¸Šæš´åŠ›ï¼Œå½“ç„¶ä¹Ÿæ˜¯æœ‰ç‚¹è„‘å­çš„æš´åŠ›ã€‚å…·ä½“è¯´æ³•å°±æ˜¯ç­”æ¡ˆçš„èµ·å§‹ç‚¹åªå¯èƒ½æ˜¯æŸä¸ªæ–½è‚¥è½¦çš„èµ·å§‹ç‚¹ï¼Œç»ˆæ­¢ç‚¹åŒç†ã€‚å› æ­¤æšä¸¾æ–½è‚¥è½¦çš„èµ·å§‹ç‚¹å’Œç»ˆæ­¢ç‚¹ï¼Œç„¶åå†æšä¸¾æ¯ä¸ªæ–½è‚¥è½¦ï¼Œçœ‹å…¶èŒƒå›´æ˜¯å¦è¢«åŒ…å«åœ¨é‡Œé¢ï¼Œæ˜¯çš„è¯ä½¿ç”¨å·®åˆ†çš„æ€æƒ³ï¼Œåœ¨æ–½è‚¥è½¦èµ·å§‹ç‚¹ +1ï¼Œç»ˆæ­¢ç‚¹åä¸€ä½ -1ã€‚æšä¸¾å®Œä¹‹åå†æšä¸¾èµ·æ­¢ç‚¹ä¸Šçš„æ¯ä¸€å—åœ°ï¼Œå¹¶åŒæ—¶æ±‚å‰ç¼€å’Œï¼Œåªè¦å’Œä¸º 0ï¼Œå°±è¯´æ˜æ²¡æœ‰è½¦è¦†ç›–åˆ°è¿™é‡Œã€‚å¦åˆ™å¦‚æœç›´åˆ°æœ€åéƒ½æ²¡æœ‰ä¸º 0 çš„å’Œï¼Œå°±è¯´æ˜è¿™æ®µåœ°å¯ä»¥è¢«å®Œæ•´è¦†ç›–ã€‚å¦å¤–å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç”±äºèµ·æ­¢ç‚¹å¯èƒ½æœ‰é‡å¤çš„ï¼Œå› æ­¤éœ€è¦èƒ½åˆ¤æ–­é‡å¤å¹¶å»é‡ã€‚</p>
<p>æˆ‘ä¸€å¼€å§‹çš„å»é‡æ€è·¯æ˜¯æˆ‘ä¹‹å‰å¬ä¸€ä¸ªå¤§ä½¬è®²æŠŠæ€ä¹ˆä¸¤ä¸ªç”¨æˆ·çš„èŠå¤©å½“ä½œçš„ä¸€ä¸ªç¾¤èŠçš„æ—¶å€™å¬è¯´çš„ï¼Œå¤§ä½¬è¯´çš„å¤§æ¦‚æ˜¯é€šè¿‡ä½è¿ç®—æŠŠä¸¤ä¸ªç”¨æˆ·çš„ id æ‹¼èµ·æ¥ä½œä¸ºç¾¤èŠ idï¼Œè¿™æ ·æ—¢ä¸ä¼šå’Œå·²æœ‰ id é‡åˆï¼Œåˆå¯ä»¥ä½œä¸ºç¾¤èŠ idã€‚è€ƒè™‘åˆ° l, r éƒ½æ˜¯ 32 ä½çš„ï¼Œå› æ­¤æˆ‘è€ƒè™‘åˆ°ç›´æ¥å°† l å·¦ç§» 32 ä½å†ä¸ r ç›¸æˆ–ï¼Œè¿™æ ·æ„é€ çš„å€¼æ˜¯ä¸å¯èƒ½ä¸å…¶ä»–ä¸ä¸€æ ·çš„å€¼æ„é€ å‡ºæ¥çš„ç›¸å†²çªçš„ï¼Œç„¶åæŠŠè¿™ä¸ªå€¼é€è¿› <code>unordered_set</code> é‡Œï¼Œå°±å¯ä»¥æ–¹ä¾¿åˆ¤æ–­æ˜¯å¦é‡åˆäº†ã€‚</p>
<p>æœ€å¼€å§‹çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;bits/stdc++.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n, m, ans;</span><br><span class="line"><span class="type">int</span> st[<span class="number">200005</span>],ed[<span class="number">200005</span>];</span><br><span class="line"><span class="type">int</span> tian[<span class="number">200005</span>];</span><br><span class="line">unordered_set&lt;<span class="type">long</span> <span class="type">long</span>&gt;exist;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">isExist</span><span class="params">(<span class="type">long</span> <span class="type">long</span> st, <span class="type">long</span> <span class="type">long</span> ed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> exist.<span class="built_in">find</span>(st&lt;&lt;<span class="number">32</span> ^ ed) != exist.<span class="built_in">end</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">pushExist</span><span class="params">(<span class="type">long</span> <span class="type">long</span> st, <span class="type">long</span> <span class="type">long</span> ed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    exist.<span class="built_in">emplace</span>(st&lt;&lt;<span class="number">32</span> ^ ed);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">judge</span><span class="params">(<span class="type">int</span> &amp;stt, <span class="type">int</span> &amp;edd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(tian, <span class="number">0</span>, <span class="built_in">sizeof</span>(tian));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=m; ++i) <span class="comment">// æšä¸¾æ¯ä¸ªæ–½è‚¥æœº</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(st[i] &lt; stt || ed[i] &gt; edd)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        ++tian[st[i]];</span><br><span class="line">        --tian[ed[i]<span class="number">+1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=stt; i&lt;=edd; ++i) <span class="comment">// æšä¸¾èµ·æ­¢ç‚¹ä¸­çš„æ¯ä¸ªåœ°å—</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(i != <span class="number">0</span>)</span><br><span class="line">            tian[i] += tian[i<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">if</span>(tian[i] == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=m; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;st[i], &amp;ed[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=m; ++i) <span class="comment">// æšä¸¾èµ·å§‹ç‚¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>; j&lt;=m; ++j) <span class="comment">// æšä¸¾ç»ˆæ­¢ç‚¹</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(st[i] &gt;= ed[j])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">isExist</span>(st[i], ed[j])) <span class="comment">// å·²ç»å­˜åœ¨çš„å°±ä¸ç”¨åˆ¤æ–­äº†</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(i == j || <span class="built_in">judge</span>(st[i], ed[j]))</span><br><span class="line">            &#123;</span><br><span class="line">                ++ans;</span><br><span class="line">                <span class="built_in">pushExist</span>(st[i], ed[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>PS: åˆšåˆšæ‰å‘ç°ï¼Œåº”è¯¥æŠŠ <code>pushExitst</code> å‡½æ•°æ”¾åˆ° <code>if</code> å¤–é¢å¥½ç‚¹ï¼Œå› ä¸ºæ— è®ºç»“æœæ˜¯å¦æ˜¯ç­”æ¡ˆéƒ½æ˜¯åˆ¤æ–­è¿‡çš„äº†ï¼Œéƒ½ä¸ç”¨å†æ¬¡åˆ¤æ–­äº†ã€‚</p>
<p>åœ¨æœ¬åœ°è·‘äº†ä¸€ä¸‹ï¼Œä»¤äººæƒŠè®¶åœ°è¿˜æŒºå¿«ï¼Œæ¯”æˆ‘ä¹‹å‰å†™å¾—æ„Ÿè§‰ä¸æš´åŠ›çš„é‚£ä¸ªå¿«å¾ˆå¤šï¼Œèƒ½å¤šå¾—äºŒååˆ†çš„æ ·å­ã€‚</p>
<p>ç»“æœæ»¡æ€€æœŸå¾…åœ°äº¤ä¸Šå»â€¦â€¦</p>
<p>TLE äº†ã€‚</p>
<p>å½“æ—¶ä¹Ÿä¸ç†è§£ï¼Œæœ€å¼€å§‹ä»¥ä¸ºæ˜¯ <code>int</code> å¼ºè½¬ <code>long long</code> æ€§èƒ½æœ‰é—®é¢˜ï¼Œæ”¹æˆäº†å¦‚ä¸‹æ–¹æ¡ˆï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">isExist</span><span class="params">(<span class="type">int</span> &amp;st, <span class="type">int</span> &amp;ed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> exist.<span class="built_in">find</span>(st&lt;&lt;<span class="number">16</span> ^ ed) != exist.<span class="built_in">end</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">pushExist</span><span class="params">(<span class="type">int</span> &amp;st, <span class="type">int</span> &amp;ed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    exist.<span class="built_in">emplace</span>(st&lt;&lt;<span class="number">16</span> ^ ed);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶å¯èƒ½æœ‰å†²çªçš„é£é™©ï¼Œä½†æ˜¯åœ¨å½“å‰æ•°æ®é‡ä¸‹å¤§çº¦å†²çªæ¦‚ç‡ä¸º 0ï¼Œè¯•äº†è¯•æ ·ä¾‹ï¼Œä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œäºæ˜¯äº¤äº†ä¸Šå»ã€‚</p>
<p>ç»“æœè¿˜æ˜¯ TLEã€‚</p>
<p>æƒ³åˆ°åæ­£è¿˜æœ‰é‚£ä¹ˆå¤šæäº¤æ¬¡æ•°ï¼Œä¹Ÿå¿«æ²¡æ—¶é—´äº†ï¼Œäºæ˜¯åªèƒ½ä¸€ä¸ªä¸ªæ³¨é‡Šæ‰ä¸€ä¸ªä¸ªè¯•ï¼Œå½“æŠŠ <code>unordered_set</code> ç›¸å…³ä»£ç æ³¨é‡Šæ‰åï¼Œå°±å˜ WA äº†ï¼Œæˆ‘ä»¥ä¸ºæ˜¯ <code>unordered_set</code> æ€§èƒ½é—®é¢˜ï¼Œè™½ç„¶æˆ‘åœ¨ä¹‹å‰é‚£ä¸ªä»£ç ä¹Ÿæ˜¯è¿™æ ·å†™çš„å´æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œä½†ç›®å‰çš„æ£€æµ‹çœ‹æ¥å°±æ˜¯è¿™æ ·ï¼Œäºæ˜¯åªå¥½æŠŠ <code>unordered_set</code> æ¢æ‰ï¼Œæ¢æˆäº†æ„Ÿè§‰æ›´èŠ‚çœç©ºé—´ä¹Ÿæ›´å¿«çš„ <code>bitset</code>.</p>
<p>æ”¹åŠ¨åä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">bitset&lt;10000007&gt; bs&#123;&#125;;</span><br><span class="line"><span class="comment">// unordered_set&lt;long long&gt;exist;</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">isExist</span><span class="params">(<span class="type">int</span> &amp;st, <span class="type">int</span> &amp;ed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (bs[(st&lt;&lt;<span class="number">16</span> | ed)%<span class="number">10000007</span>] == <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// return exist.find(st&lt;&lt;16 ^ ed) != exist.end();</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">pushExist</span><span class="params">(<span class="type">int</span> &amp;st, <span class="type">int</span> &amp;ed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bs[(st&lt;&lt;<span class="number">16</span> | ed)%<span class="number">10000007</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// exist.emplace(st&lt;&lt;16 ^ ed);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒæ ·è¿‡äº†æ ·ä¾‹ï¼Œç„¶ååŒæ ·äº¤äº†ä¸Šå»ï¼Œç„¶ååŒæ ·â€¦â€¦â€¦â€¦</p>
<p>å“¦ï¼Œè¿™æ¬¡ä¸æ˜¯ TLE äº†ï¼Œæ˜¯ RE</p>
<p>ï¼Ÿ</p>
<p>æˆ‘åªèƒ½è¯´çœŸç»™æˆ‘ confused åˆ°äº†ï¼Œæœ€åä¹Ÿæ˜¯å„ç§å¾®è°ƒéƒ½æ— æµäºäº‹ï¼Œåªå¥½ 15 åˆ†é»¯ç„¶ç¦»åœºã€‚</p>
<p>æ™šä¸Šçš„æ—¶å€™è¯·æ•™äº†å¤§ä½¬å’Œè€å¸ˆï¼Œç­”æ›°å¯èƒ½æ•°ç»„å¼€å¤ªå¤§äº†ï¼Œå¯¼è‡´å¤æ‚åº¦æ¯”è¾ƒå¤§ï¼Œæˆ‘æ˜¯æ¯”è¾ƒç–‘æƒ‘çš„ï¼Œè¿™æ•°ç»„è¿˜å¥½å§ï¼Ÿè‡³äºè¯´ <code>memset</code> å¤æ‚åº¦å¤§ï¼Œæˆ‘è§‰å¾—è¿™ç§å‡½æ•°åº”è¯¥éƒ½ä¼šè¢«ä¼˜åŒ–å¾—æ¯”è¾ƒå¥½çš„è¯´ã€‚</p>
<p>ç„¶åä¹Ÿçœ‹åˆ°äº† ACM å¤§å¸ˆçš„æŒ‡ç‚¹ï¼Œè¯´å¦‚æœ RE çš„è¯ï¼Œå¯ä»¥æœ¬åœ°å¼€ O2 è¯•è¯•ã€‚æˆ‘è¿™æ‰æƒ³èµ·æ¥è¯„æµ‹çš„ç¯å¢ƒæ˜¯æœ‰å¼€ O2 çš„ï¼Œæˆ‘ä¸€è¯•ï¼Œæˆ‘è‰è¿˜çœŸæ˜¯ï¼Œä¸ºå•¥å•Šï¼Ÿè¿™çœŸçš„æ˜¯ä¸‡ä¸‡æ²¡æƒ³åˆ°å•Šï¼Œæˆ‘çš„å¥½å…„å¼Ÿ O2 å±…ç„¶èƒŒå›äº†æˆ‘ï¼Œç¨‹åºå±…ç„¶å¸æ°§å¸ä¼¼äº†ã€‚å¸æ°§ä¹‹åè°ƒè¯•è™½ç„¶çˆ†äº†ä½†æ˜¯ä¹Ÿæ²¡æ˜¾ç¤ºçˆ†åœ¨å“ªï¼Œåªå¥½ç»§ç»­çœ‹çœ‹æœ‰ä»€ä¹ˆå…¶ä»–æ–¹æ³•ã€‚</p>
<p>é—®äº†é—® newbingï¼Œè¯´å¯ä»¥å¼€ <code>-Wall</code> ç¼–è¯‘é€‰é¡¹ã€‚</p>
<p>æˆ‘æŒ‰ä¸‹äº†æ„å»ºï¼Œä¹Ÿå‡ ä¹æ˜¯åŒæ—¶ï¼Œæˆ‘åœ¨é—®é¢˜åˆ—è¡¨é‡Œçœ‹åˆ°äº†è¿™ä¸€è¡Œ</p>
<p><img src="https://cdn.suwako.cn/aldlss-blog/pic/picQQ%E5%9B%BE%E7%89%8720230321220723.png" alt="waring0" loading="lazy"><em>å™”å™”å’š</em></p>
<p>åŒæ—¶ï¼Œæ„å»ºç³»ç»Ÿä¹Ÿçˆ†å‡ºäº†è­¦å‘Š</p>
<p><img src="https://cdn.suwako.cn/aldlss-blog/pic/picQQ%E6%88%AA%E5%9B%BE20230321221234.png" alt="waring1" loading="lazy"><em>å™”å™”å™”å™”å’š</em></p>
<p>æˆ‘è‰ï¼Ÿ</p>
<p>ä»”ç»†ä¸€çœ‹è­¦å‘Šæ‰€æŒ‡ç¤ºçš„ä»£ç â€¦â€¦</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">pushExist</span><span class="params">(<span class="type">int</span> &amp;st, <span class="type">int</span> &amp;ed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bs[(st&lt;&lt;<span class="number">16</span> | ed)%<span class="number">10000007</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// exist.emplace(st&lt;&lt;16 ^ ed);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘è‰ï¼Œä¸ºä»€ä¹ˆæˆ‘è¿™ä¸ªå‡½æ•°æ˜¯ <code>bool</code> å•Šï¼ï¼Ÿ</p>
<p>æˆ‘æƒ³èµ·æ¥äº†ï¼Œæˆ‘æ˜¯å¤åˆ¶é»è´´çš„ä¸Šé¢é‚£ä¸ªå‡½æ•°å•Šï¼</p>
<p>æŠŠ <code>bool</code> æ”¹æˆ <code>void</code> åï¼Œè¿è¡Œå°±ä¸æŠ¥é”™äº†ï¼Œä»¤äººæ„Ÿå¹ã€‚</p>
<p>20 åˆ†â€¦â€¦20 åˆ†è¦é€ƒèµ°äº†ï¼ä¸å¯¹ï¼Œæ˜¯å·²ç»é€ƒèµ°äº†å‘œå‘œå‘œâ€¦â€¦</p>
<p>æ‰€ä»¥æ€»ç»“ä¸‹æ¥å¤§æ¦‚æ˜¯æˆ‘å†™äº†ä¸€ä¸ªè¿”å›å€¼ä¸º <code>bool</code> çš„å‡½æ•°ä½†æ˜¯æ²¡æœ‰å†™è¿”å›å€¼ï¼Œè¿™ä¸ªåœ¨æ­£å¸¸ç¼–è¯‘ä¸‹æ°å¥½è¿˜èƒ½è·‘èµ·æ¥ï¼Œä½†æ˜¯åœ¨ O2 ä¼˜åŒ–åå°±çˆ†æ‰äº†ï¼Œä¼°è®¡æ˜¯æŒ‰ç…§æœ‰è¿”å›å€¼è¿™æ ·ä¼˜åŒ–äº†ä¹‹ç±»çš„ã€‚</p>
<p>è¿™ä»¶äº‹å‘Šè¯‰äº†æˆ‘ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li><p>O2 ä¸æ˜¯æˆ‘æœ€å¥½çš„æœ‹å‹ã€‚</p>
</li>
<li><p>æœ¬åœ°æµ‹è¯•æ—¶è¦è€ƒè™‘è¯„æµ‹æ—¶çš„ç¼–è¯‘é€‰é¡¹å’Œç¯å¢ƒã€‚</p>
</li>
<li><p>è¦æ³¨æ„çœ‹è­¦å‘Šã€‚ä¹‹å‰ä¸€ç›´ä¹Ÿæ¯”è¾ƒå¿½è§†è­¦å‘Šï¼Œè¿™ä¸‹æ˜¯ç»ˆäºæ ½åœ¨è¿™å„¿äº†ã€‚ç»è¿‡å¤§ä½¬ç‚¹æ‹¨ï¼Œæˆ‘æ”¶è·äº† <code>-Wall</code> <code>-Wextra</code> <code>-Wshadow</code> ç­‰ç¼–è¯‘æ—¶æŠ¥è­¦å‘Šçš„é€‰é¡¹ï¼Œä»¥åŠ clang çš„æœ‰ä¸ª <code>-Weverything</code> çš„é€‰é¡¹ã€‚è¦è¯´çš„è¯ <code>-Wshadow</code> çš„ shadow æŒ‡çš„æ˜¯å†…å±‚ä½œç”¨åŸŸå˜é‡è¦†ç›–äº†å¤–å±‚ä½œç”¨åŸŸå˜é‡ï¼Œæœ‰æ—¶å€™åœ¨è­¦å‘Šé‡Œç¡®å®ä¼šè§åˆ° shadow è¿™ä¸ªè¯ï¼Œè¿™ä¸ªé€‰é¡¹æ˜¯è­¦å‘Šè¿™ä¸ªçš„ï¼Œæ®è¯´åœ¨å·¨å¤§å¤šå¤åˆ¶ä»£ç çš„æƒ…å†µä¸‹æ¯”è¾ƒæœ‰ç”¨ã€‚å…¶ä½™çš„å°±ä¸å¤ªæ¸…æ¥šäº†ã€‚</p>
</li>
</ol>
<p>åªèƒ½è¯´æ•™è®­è¿˜æ˜¯æ¯”è¾ƒæ·±åˆ»çš„ã€‚</p>
<p><img src="https://cdn.suwako.cn/aldlss-blog/pic/picQQ%E5%9B%BE%E7%89%8720230321223041.gif" alt="555" loading="lazy"><em>ğŸ˜­ğŸ˜­ğŸ˜­</em></p>
</div></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/NJU-hackathon2023/" rel="prev" title="å—å¤§è½¯é™¢ 2023 è½¯ä»¶å¼€å‘é©¬æ‹‰æ¾æ¸¸è®°"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">å—å¤§è½¯é™¢ 2023 è½¯ä»¶å¼€å‘é©¬æ‹‰æ¾æ¸¸è®°</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/ByteTech-Camp-5th-Notes/" rel="next" title="ç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥ä¼´å­¦ç¬”è®°"><span class="post-nav-text">ç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥ä¼´å­¦ç¬”è®°</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div id="waline"></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@waline/client@v2/dist/waline.css"><script>window.CONFIG.waline.config.path = "/CSP-29th/"</script><div class="js-Pjax"><script src="/js/comments/waline.js" type="module" defer></script></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2022 â€“ 2024 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> aldlss</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v7.3.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.11</span></div><div class="footer-support"><span>èƒŒæ™¯å›¾å‡ºå¤„</span><a class="footer-support-logo" href="https://www.pixiv.net/users/8605991" target="blank" title="fasnakegod"><span>fasnakegod</span></a><span></span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script defer src="https://fastly.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script defer src="https://fastly.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script defer src="/js/search/algolia-search.js" type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div class="algolia-pagination" id="algolia-pagination"></div></div></div></body></html>